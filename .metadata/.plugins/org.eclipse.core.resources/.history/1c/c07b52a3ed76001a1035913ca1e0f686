package br.com.cast.evaluation.service;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import br.com.cast.evaluation.model.Course;
import br.com.cast.evaluation.payload.CoursePayload;
import br.com.cast.evaluation.repository.CourseRepository;
import br.com.cast.evaluation.response.CourseResponse;

@Service
public class CourseService {

	@Autowired
	private CourseRepository courseRepository;

	public CourseResponse saveCourse(CoursePayload payload) {
		
		return getCourseResponse(courseRepository.save(getCourse(payload)));
	}
	
	private Course getCourse(CoursePayload payload) {
		
		return Course.builder()
				  .descriptionSubject(payload.getDescriptionSubject())
				  .initialDate(payload.getInitialDate())
				  .finalDate(payload.getFinalDate())
				  .numberStudents(payload.getNumberStudents())
				  .category(payload.getCategory()).build();
	}
	
	private CourseResponse getCourseResponse(Course course) {
		
		return CourseResponse.builder()
				  .id(id)
				  .descriptionSubject(course.getDescriptionSubject())
				  .initialDate(course.getInitialDate())
				  .finalDate(course.getFinalDate())
				  .numberStudents(course.getNumberStudents())
				  .category(course.getCategory()).build();
	}

	
	
	
	

}
